function headerContentCtrl(a,i){a.DataQualityLine="数据质量专线:15827475854",a.UserOptions='<li><a href="javascript:void(0)" options="system_option" ><i class="icon-heart"></i> 系统管理</a></li><li><a href="javascript:void(0)" options="issue_option" ><i class="icon-check"></i> 问题申告</a></li><li><a href="javascript:void(0)" options="devreq_option" ><i class="icon-repeat"></i> 需求管理</a></li><li><a href="javascript:void(0)" options="jobNumner_option" ><i class="icon-road"></i> 工号管理</a></li><li><a href="javascript:void(0)" options="zb_option" ><i class="icon-glass"></i> 指标库</a></li><li><a href="javascript:void(0)" options="flow_option" ><i class="icon-flag"></i> 流量运营平台</a></li><li><a href="javascript:void(0)" options="tariff_option" ><i class="icon-rocket"></i> 统一资费营销平台</a></li>',$("#topDetail li #useroption").append(a.UserOptions),a.searchValue=null,a.search=function(){null!=a.searchValue&&""!=a.searchValue&&creatIframe("http://www.baidu.com",a.searchValue)}}function mainContentCtrl(a,i){a.menus=menus,a.currentMainId=null;var e=$(".main_menu_title").empty(),t='<%_.each(datas,function(data){%><span _id="<%=data.id%>" _pid="<%=data.pid%>" _sort="<%=data.sortnum%>" class="btn btn-primary"><i class="icon-1x">&nbsp;&nbsp;<%=data.name%></i></span><%},this)%>',n=_.template(t);e.append(n({datas:a.menus})),$(".main_menu_title span").click(function(i){$(".main_menu_title span").removeClass("active"),$(this).addClass("active"),$(this).attr("_id")!=a.currentMainId&&(a.currentMainId=$(this).attr("_id"),a.renderSubMenu()),checkMenuA()});var o='<%_.each(datas,function(data){%><dl id="<%=data.id%>"><% if (data.children != null){%><dt><%=data.name%><i class="iconfont menu_dropdown-arrow">&#xf02a9;</i></dt><dd><ul><%_.each(data.children,function(_data){%><li><a _href="<%=_data.url%>" title=\'<%=_data.name%>\' href="javascript:;">&nbsp;&nbsp;<%=_data.name%></a></li><%},this)%></ul></dd><%}else{%><dt><a _href="<%=data.url%>" title=\'<%=data.name%>\' href="javascript:;"><%=data.name%></a></dt><%}%></dl><%},this)%>';a.left_tmpl=_.template(o),a.renderSubMenu=function(){var i=_.find(a.menus,function(i){return i.id==a.currentMainId},this);if(null!=i.children&&i.children.length>0){var e=$(".Hui-aside .menu_dropdown").empty();e.append(a.left_tmpl({datas:i.children}))}$.Huifold(".menu_dropdown dl dt",".menu_dropdown dl dd","fast",1,"click")},$(".main_menu_title span:first").click()}function creatIframe(a,i){var e=topWindow.find("#min_title_list");e.find("li").removeClass("active");var t=topWindow.find("#iframe_box");e.append('<li class="active"><span data-href="'+a+'">'+i+"</span><i></i><em></em></li>"),tabNavallwidth();var n=(new Date).getTime()+1e3*Math.random(),o=$('<div class="loading"></div>'),s=$('<ul class="Navigation-head" data-id="nav-iframe'+n+'"></ul>'),r=$('<li class="Navigation-posi">当前位置：</li>'),d=$('<li class="Navigation-item" data-url="'+a+'"><i class="icon-home"></i>首页</li>'),c=$('<iframe frameborder="0" src="'+a+'" data-id="iframe'+n+'"></iframe>'),l=$('<div class="show_iframe"></div>');s.append(r),s.append(d),$(d).click(clickNavigation),l.append(o),l.append(s),l.append(c);var p=t.find(".show_iframe");p.hide(),t.append('<div class="show_iframe"><div class="loading"></div><iframe frameborder="0" src="'+a+'"></iframe></div>');var f=t.find(".show_iframe:visible");f.find("iframe").hide().load(function(){f.find(".loading").hide(),$(this).show()})}function openWhithNavigation(a,i,e){var t=$(a.frameElement).attr("data-id"),n=$("ul[data-id='nav-"+t+"']");$(".nowpage",n).removeClass("nowpage");var o=$("<li class='Navigation-split'><i class='icon-angle-right'></i></li>"),s=$("<li class='Navigation-item nowpage'>"+i+"</li>");$(s).click(clickNavigation),n.append(o),n.append(s),$(n).css("display","block"),$("iframe[data-id='"+t+"']").css("padding-top","21px"),$("iframe[data-id='"+t+"']").attr("src",e)}function clickNavigation(a){var i=0,e=0;$.each($(a.target).prevAll(),function(a,e){e.className.indexOf("item")>0&&(i+=1)}),$.each($(a.target).nextAll(),function(a,i){i.className.indexOf("item")>0&&(e+=1)}),0!=e&&($(a.target).nextAll().remove(),history.go("-"+e),0==i&&($(a.target.parentElement).hide(),$(a.target.parentElement.nextSibling).css("padding-top","0px")))}function checkMenuA(){$(".Hui-aside .menu_dropdown a").click(function(){var a=$(this).attr("_href"),i=$(this).html();openMenu(a,i)})}function min_titleList(){var a=topWindow.find("#min_title_list");a.find("li")}function openMenu(a,i){new RegExp("^redirect:").test(a)&&(a=mvcPath+"/accessOtherSys?redirectPath="+encodeURIComponent(a.substring("redirect:".length)));var e=!1,t=0,n=topWindow.find("#min_title_list li");if(n.each(function(){return $(this).find("span").attr("data-href")==a?(e=!0,t=n.index($(this)),!1):void 0}),e){n.removeClass("active").eq(t).addClass("active");var o=topWindow.find("#iframe_box");o.find(".show_iframe").hide().eq(t).show()}else creatIframe(a,i),min_titleList()}headerContentCtrl.$inject=["$scope","$http"],mainContentCtrl.$inject=["$scope","$http"],$(document).ready(function(){$("#pageloading").hide(),$(".Hui-aside .menu_dropdown dl").click(function(a){$(".Hui-aside .menu_dropdown dl").removeClass("open"),$(this).addClass("open");var i=$(this).find("dd");if(0==i.length){var e=$(this).find("a:first"),t=e.attr("_href"),n=e.html();openMenu(t,n)}}),$("#user_info").click(function(a){var i=$(this);$("#user_option").removeClass("open"),i.hasClass("open")?i.removeClass("open"):i.addClass("open")}),$("#user_option").click(function(a){var i=$(this);$("#user_info").removeClass("open"),i.hasClass("open")?i.removeClass("open"):i.addClass("open")}),$("#userinfo a[options]").click(function(a){var i=$(this).attr("options");switch(i){case"introduce":alert("introduce");break;case"setting":alert("setting");break;default:alert(1)}}),$("#useroption a[options]").click(function(a){var i=$(this).attr("options");switch(i){case"system_option":creatIframe("http://www.baidu.com","系统管理");break;case"issue_option":creatIframe("http://www.baidu.com","问题申告");break;case"devreq_option":creatIframe("http://www.baidu.com","需求管理");break;case"jobNumner_option":creatIframe("http://www.baidu.com","工号管理");break;case"zb_option":creatIframe("http://www.baidu.com","指标库");break;case"flow_option":creatIframe("http://www.baidu.com","流量运营平台");break;case"tariff_option":creatIframe("http://www.baidu.com","统一资费营销平台");break;default:alert(1)}}),$("#user_option").hover(function(){$(this).addClass("open")},function(){$(this).removeClass("open")}),$("#user_info").hover(function(){$(this).addClass("open")},function(){$(this).removeClass("open")});$('<div class="side-bar"><a href="#" class="icon-chat">微信</a><a href="#" class="icon-blog">微博</a><a href="#" class="icon-mail">mail</a></div>').appendTo($("body"))});var topWindow=$(window.parent.document);