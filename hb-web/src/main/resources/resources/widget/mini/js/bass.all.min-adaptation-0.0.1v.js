riot.tag2("bulletinimage",'<div class="BulletinImage"> <img class="imgTitle img-responsive" riot-src="{opts.src}"></img> <div onclick="{nameClick}" onmouseover="{imgMouseover}" onmouseleave="{imgMouseleave}"> <i class="icon-list-alt"></i>&nbsp;{opts.name} </div> <div onclick="{dateClick}" onmouseover="{imgMouseover}" onmouseleave="{imgMouseleave}"> <i class="icon-time"></i>&nbsp;{opts.date} </div> </div>',"","",function(t){this.mixin(BoxCommpent),this.nameClick=function(t){this.opts.nameClick&&this.opts.nameClick.call(this,this.opts.name)}.bind(this),this.dateClick=function(t){this.opts.dateClick&&this.opts.dateClick.call(this,this.opts.date)}.bind(this),this.imgMouseover=function(t){var e=$(t.currentTarget).children()[0];$(e).addClass("icon-large")}.bind(this),this.imgMouseleave=function(t){var e=$(t.currentTarget).children()[0];$(e).removeClass("icon-large")}.bind(this)},"{ }"),riot.tag2("bulletinmenu",'<div class="panel panel-primary"> <div class="panel-heading bulletin-menu-title"> <span class="panel-title bulletin-menu-title-text">{opts.titleText}</span> </a> </div> <div class="bulletin-menu-context"> </div> </div>',"",'class="bulletin-menu"',function(t){this.mixin(BoxCommpent),this.opts.dataList=t.dataList,this.showLevel=t.showLevel||1,this.opts.fnDblClick=t.fnDblClick,this.menuId="",this.clickTag=1,this.setRow=function(t,e){var i="",l=$("<ul class='nav nav-pills' ><li class='bulletin-menu-li-text'>"+t.menuName+"</li></ul>"),a=$("<i class='icon-angle-down icon-large' style='float: right;padding-right: 10px;'></i>");return $(".bulletin-menu-context",this.root).append(l,l.root),e>0&&(i=l.css("padding-left"),l.css("padding-left",26+15*e+"px")),null!=t.hasChild&&"Y"==t.hasChild&&l.append(a,a.root),l},this.initData=function(t,e){e||(e=0);for(var i=[],l=0;l<t.length;l++){var a=this.setRow(t[l],e);if(e>0){{t[l].menuName}a.css("display","none"),i.push(a)}if(null!=t[l].hasChild&&"Y"==t[l].hasChild&&t[l].children){{var n=this.initData(t[l].children,e+1);$(a.children(":last")[0])}n.length>0&&i.push(n)}this.initFunction(a,"click",this.fnClick,{childrenElementArr:n,self:this,eventElement:a,menuId:t[l].menuId}),this.initFunction(a,"dblclick",this.fnDblClick,{menuId:t[l].menuId,self:this,eventElement:a})}return i},this.fnClick=function(t){var e=t.self,i=t.eventElement;$(".bulletin-menu-context ul",e.root).removeClass("bulletin-menu-ul-background-color"),i.addClass("bulletin-menu-ul-background-color"),e.menuId=t.menuId,setTimeout(function(){2!=e.clickTag&&null!=t.childrenElementArr&&t.childrenElementArr.length>0&&e.initClickHideOrShow(t)},200)},this.fnDblClick=function(t){var e=t.self,i=t.eventElement;$(".bulletin-menu-context ul",e.root).removeClass("bulletin-menu-ul-background-color"),i.addClass("bulletin-menu-ul-background-color"),e.menuId=t.menuId,e.clickTag=2,e.opts.fnDblClick&&e.opts.fnDblClick.call(e,t.menuId),setTimeout(function(){e.clickTag=1},200)},this.initClickHideOrShow=function(t){var e=t.self,i=t.childrenElementArr,l=t.eventElement,a=t.parentState,n=t.showLevel;if(n||(n=0),!a){a=l.css("display");var o=$(l.children(":last")[0]),s=o.attr("class");"icon-angle-down icon-large"==s?o.attr("class","icon-angle-up icon-large"):o.attr("class","icon-angle-down icon-large")}for(var c=0;c<i.length;c++){var d=i[c];if(_.isArray(d))$(i[c-1].children(":last")[0]).attr("class","icon-angle-down icon-large"),e.initClickHideOrShow({childrenElementArr:d,self:e,parentState:i[c-1].css("display"),showLevel:n+1});else if("none"==d.css("display")&&"none"!=a){if(n==this.showLevel)continue;d.show()}else d.hide()}},this.initFunction=function(t,e,i,l){t&&e&&i&&t.on(e,l,function(t){i(t.data)})},this.updateTable=function(t){this.reportView(t)},this.getMenuId=function(){return this.menuId},this.on("mount updated",function(){this.initData(this.opts.dataList),t.width&&$(this.root).css("width",t.width),this.menuId=t.dataList[0].menuId,$(".bulletin-menu-context ul:first-child",this.root).addClass("bulletin-menu-ul-background-color"),t.titleColor&&($(".bulletin-menu-title",this.root).css("background-color",t.titleColor),$(".bulletin-menu-title",this.root).css("border-color",t.titleColor),$(".icon-angle-down",this.root).css("color",t.titleColor))})},"{ }"),riot.tag2("bulletinnormal",'<div class="panel panel-primary"> <div class="panel-heading bulletin-normal-title"> <span class="panel-title bulletin-normal-title-text">{opts.titleText}</span> <a class="panel-title icon-double-angle-down bulletin-normal-title-func" onclick="{clickTitleFunc}"> {opts.funcTitle} </a> </div> <div class="bulletin-normal-context"> <ul class="nav nav-pills" each="{row in datas}" if="{row.num <= lineNum}" onclick="{clickRow}"> <li class="bulletin-normal-li-rownum"> <span class="label label-default">{row.num}</span> </li> <li class="bulletin-normal-li-text">{row.text}</li> <li class="bulletin-normal-li-remark">{row.remark}</li> </ul> </div> </div>',"",'class="bulletin-normal"',function(t){this.datas=t.datas,this.lineNum=t.lineNum,this.mixin(BoxCommpent),this.clickTitleFunc=function(t){this.opts.funcClick&&this.opts.funcClick.call(this,this.opts.funcTitle)}.bind(this),this.clickRow=function(t){this.opts.rowClick&&this.opts.rowClick.call(this,t.item.row)}.bind(this),this.load=function(e){this.datas=e?e:t.datas,this.update()},this.on("mount",function(){t.width&&$(this.root).css("width",t.width),t.titleColor&&($(".bulletin-normal-title",this.root).css("background-color",t.titleColor),$(".bulletin-normal-title",this.root).css("border-color",t.titleColor))})},"{ }"),riot.tag2("bulletinsimple",'<div class="panel panel-primary"> <div class="panel-heading bulletin-simple-title"> <span class="panel-title bulletin-simple-title-text">{opts.titleText}</span> <a class="panel-title icon-double-angle-down bulletin-simple-title-func" onclick="{clickTitleFunc}"> {opts.funcTitle} </a> </div> <div class="bulletin-simple-context"> <ul class="nav nav-pills" each="{row in datas}" if="{row.num <= lineNum}" onclick="{clickRow}"> <li class="bulletin-simple-li-text">{row.text}</li> </ul> </div> </div>',"",'class="bulletin-simple"',function(t){this.datas=t.datas,this.lineNum=t.lineNum,this.mixin(BoxCommpent),this.clickTitleFunc=function(t){this.opts.funcClick&&this.opts.funcClick.call(this,this.opts.funcTitle)}.bind(this),this.clickRow=function(t){this.opts.rowClick&&this.opts.rowClick.call(this,t.item.row)}.bind(this),this.load=function(e){this.datas=e?e:t.datas,this.update()},this.on("mount",function(){t.width&&$(this.root).css("width",t.width),t.titleColor&&($(".bulletin-simple-title",this.root).css("background-color",t.titleColor),$(".bulletin-simple-title",this.root).css("border-color",t.titleColor))})},"{ }"),riot.tag2("combobox",'<label class="headCls" onclick="{datas.length > 0?clickHead:\'\'}"> <div class="headCls-text" data-dimvalue="{defaultDimvalue}" data-dimtype="{defaultDimtype}" title="{defaultDimname}"> {defaultDimname}</div> <div class="icon-caret-down"></div> <div class="clear-float"></div> </label> <div class="selectPosition"> <div class="selectPosition-block" data-level="level-1"> <div class="selectPosition-search" if="{datas.length > linenum}"> <input class="selectPosition-search-input" type="text"> <i class="icon-search selectPosition-search-btn" onclick="{searchclick}" data-dimtype="{datas[0].dimtype}"></i> </div> <div each="{obj,idx in datas}" class="selectPosition-item" if="{datas.length > 0&&idx <= linenum-1}"> <div class="selectPosition-item-text" data-dimvalue="{obj.dimvalue}" data-dimtype="{obj.dimtype}" title="{obj.dimname}" ondblclick="{isNormal?null:itemdbclick}" onclick="{isNormal?clickNormal:clickTree}">{obj.dimname}</div> </div> <div class="selectPosition-overflow" if="{datas.length > linenum}" onclick="{showMoredata}" data-dimtype="{obj.dimtype}">...</div> </div> <div class="clear-float"></div> </div>',"",'class="Select"',function(t){var e,i=this,l=!1,a={},n={};i.isNormal="normal"==("tree"==t.type?"tree":"normal"),i.linenum=t.linenum||8,i.datas=t.data,i.mixin(BoxCommpent),i.setItem=function(t){a.dimvalue=$(t).attr("data-dimvalue"),a.dimtype=$(t).attr("data-dimtype"),a.dimname=$(t).text()},i.setDefault=function(t,e,l){i.defaultDimvalue=t,i.defaultDimname=e,i.defaultDimtype=l;for(var n=$(".selectPosition-item-text",$(".clickCls",i.root)),o={},s=n.length-1;s>=0;s--)o[s]=$(n[s]).attr("data-dimvalue");a.treeInfo=o},i.initDefaultDimvalue=function(t){"undefined"==typeof i.datas&&(i.datas=[]),i.datas.length>0?$.each(i.datas,function(e,l){return t?t==l.dimvalue?(i.setDefault(l.dimvalue,l.dimname,l.dimtype),!1):void 0:(i.setDefault(l.dimvalue,l.dimname,l.dimtype),!1)}):i.setDefault("","无数据",""),i.datas.length>i.linenum&&(n[i.datas[0].dimtype]=i.datas,n[i.datas[0].dimtype+"_isSearch"]=!1,n[i.datas[0].dimtype+"_linenum"]=i.linenum)},i.initDefaultDimvalue(t.defaultDimvalue),i.setValue=function(t){i.initDefaultDimvalue(t),i.update()},i.getDimData=function(t){return i.opts.getDimData.call(this,t)},i.getitembody=function(t,e,l){var a=$('<div class="selectPosition-item"></div>'),n=$('<div class="selectPosition-item-text"></div>');return n.attr("data-dimvalue",e),n.attr("data-dimtype",t),n.attr("title",l),n.text(l),n.dblclick(i.itemdbclick),n.click(i.clickTree),a.append(n),a},i.itemdbclick=function(t){e=!0,i.setDefault($(t.target).attr("data-dimvalue"),$(t.target).text(),$(t.target).attr("data-dimtype")),$(".selectPosition*",i.root).hide(),i.setItem(t.target),i.opts.dbclickFunc.call(this,a),i.update()},i.clickNormal=function(t){l=!0;var e=t.target.parentElement,n=e.parentElement;$(n).children().removeClass("clickCls"),$(e).addClass("clickCls"),i.setDefault($(t.target).attr("data-dimvalue"),$(t.target).text(),$(t.target).attr("data-dimtype")),$(".selectPosition*",i.root).hide(),i.setItem(t.target),i.opts.clickFunc.call(this,a)},i.clickTree=function(t){l=!0;var o=t.target.parentElement,s=o.parentElement;$(s).children().removeClass("clickCls"),$(o).addClass("clickCls"),e=!1,i.setItem(t.target);$(t.target).height()+3,$(t.target.parentElement.parentElement).width()+6;$(s).nextAll().each(function(t,e){"clear-float"!=e.className&&$(e).remove()}),window.setTimeout(function(){if(0==e){var t=i.getDimData(a);if(t&&t.length>0){var l=$('<div class="selectPosition-block"></div>');if($.each(t,function(t,e){return t>=i.linenum?!1:void l.append(i.getitembody(e.dimtype,e.dimvalue,e.dimname))}),t.length>i.linenum){var o=$('<div class="selectPosition-search"></div>'),s=$('<input class="selectPosition-search-input" type="text">'),c=$('<i class="icon-search selectPosition-search-btn"></i>'),d=$('<div class="selectPosition-overflow" if={idx == linenum-1}>...</div>');c.attr("data-dimtype",t[0].dimtype),c.click(i.searchclick),d.attr("data-dimtype",t[0].dimtype),d.click(i.showMoredata),n[t[0].dimtype]=t,n[t[0].dimtype+"_isSearch"]=!1,n[t[0].dimtype+"_linenum"]=i.linenum,o.append(s),o.append(c),l.prepend(o),l.append(d)}$(l).slideDown("fast"),$(".clear-float",$(".selectPosition",i.root)).before(l)}}},500)},i.searchclick=function(t){var e=t.target.parentElement.parentElement;$(e).nextAll().each(function(t,e){"clear-float"!=e.className&&$(e).remove()});var l,a=$(t.target).attr("data-dimtype"),o=$(t.target).prev().val();if($(t.target.parentElement).nextAll().each(function(t,e){return"selectPosition-overflow"==e.className?void(l=e):void $(e).remove()}),o){var s=new Array,c=0;$.each(n[a],function(t,e){e.dimname.indexOf(o)>=0&&(s.push(e),c++)}),0==c?($(l).before($('<div><i class="noresult">无数据</i></div>')),$(l).hide()):(n[n[a][0].dimtype+"_isSearch"]=!0,n[n[a][0].dimtype+"_search"]=s,n[n[a][0].dimtype+"_linenum"]=i.linenum),c+1<=i.linenum&&$(l).hide(),$.each(s,function(t,e){return t>=i.linenum?($(l).show(),!1):void $(l).before(i.getitembody(e.dimtype,e.dimvalue,e.dimname))})}else n[n[a][0].dimtype+"_isSearch"]=!1,n[n[a][0].dimtype+"_search"]="",n[n[a][0].dimtype+"_linenum"]=i.linenum,$.each(n[a],function(t,e){return t>=i.linenum?($(l).show(),!1):void $(l).before(i.getitembody(e.dimtype,e.dimvalue,e.dimname))})},i.load=function(e){l=!1,"undefined"==typeof e&&(e=[]),this.datas=e?e:t.data,$(".selectPosition-block",this.root).each(function(t,e){t>0&&$(e).remove()}),i.initDefaultDimvalue(),$(".selectPosition",i.root).hide(),this.update()},i.getDimtype=function(){return i.defaultDimtype},i.getDimvalue=function(){return i.defaultDimvalue},i.getDimname=function(){return i.defaultDimname},i.showMoredata=function(t){var e,l=t.target,a=$(t.target).attr("data-dimtype"),o=n[a+"_isSearch"],s=n[a+"_linenum"],c=parseFloat(s)+parseFloat(i.linenum);o?(e=n[a+"_search"],e.length<=s&&$(l).hide(),$.each(e,function(t,e){return s>t?void 0:t>=c?($(l).show(),!1):void $(l).before(i.getitembody(e.dimtype,e.dimvalue,e.dimname))})):(e=n[a],$.each(e,function(t,e){return s>t?void 0:t>=c?($(l).show(),!1):void $(l).before(i.getitembody(e.dimtype,e.dimvalue,e.dimname))})),n[a+"_linenum"]=c,e.length<=c&&$(l).hide()},i.clickHead=function(t){if(!l){{var e=$("div[data-level='level-1']",i.root);$(".clickCls",e)}$(".selectPosition-item-text",e).each(function(t,e){return $(e).attr("data-dimvalue")==i.defaultDimvalue?($(e.parentElement).addClass("clickCls"),!1):void 0}),$(".selectPosition",i.root).data("isHidden",!0)}l=!0,$(".selectPosition",i.root).data("isHidden")?($(".selectPosition",i.root).slideDown("fast"),$(".selectPosition",i.root).data("isHidden",!1)):($(".selectPosition",i.root).hide(),$(".selectPosition",i.root).data("isHidden",!0))},i.on("mounted",function(){})},"{ }"),riot.tag2("datebox",'<label class="dateChoice">{this.value}</label>',"","",function(t){_self=this,this.mixin(BoxCommpent),this.getValue=function(){return this.value},this.getFormat=function(){return this.format},this.getNowDate=function(t){var e=new Date,i=e.getFullYear(),l=e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,a=e.getDate()<10?"0"+e.getDate():e.getDate();return"yyyy"==t?i:"yyyy-mm"==t?i+"-"+l:i+"-"+l+"-"+a},this.date=function(t,e){var i=function(i){_self.value=i,e&&e.call(_self,t,i)},l={JqElement:$(this.root).find(".dateChoice"),format:t,select:i};DateBoxUtil.date(l)},this.switchType=function(e){var i=$("<label class='dateChoice'></label>");_self.value=this.getNowDate(e),_self.format=e,i.html(_self.value),$(this.root).empty(),$(this.root).append(i),this.date(e,t.select)},this.value=this.getNowDate(t.format),this.on("mount",function(){this.format=t.format,this.date(t.format,t.select)})},"{ }"),riot.tag2("defaultlayouter",'<div class="float-left" each="{opts.items}"></div> <div class="clear-float"></div>',"","",function(t){this.mixin(Layouter);var e=this;this.addItem=function(t){if(t&&t.root){var e=$(".clear-float",this.root),i=$("<div class='float-left'></div>");i.append(t.root),this.setInterval(i),e.before(i)}}.bind(this),this.addItems=function(t){_.isArray(t)&&$.each(t,function(t,i){e.addItem(i)})}.bind(this),this.on("mount updated",function(){this.setInterval(".float-left"),$(".float-left",this.root).each(function(t,i){$(i).append(e.opts.items[t].root)})})},"{ }"),riot.tag2("gridlayouter",'<div data-row-index="{rowindex}" each="{row,rowindex in opts.gridDefine}"> <div data-column-index="{columnIndex}" class="float-left" riot-style="width:{column.width}" each="{column,columnIndex in row}"> </div> <div class="clear-float"></div> </div>',"","",function(t){function e(e){var i=$("<div></div>");return e.opts.interval||0==e.opts.interval||(e.opts.interval=t.gridDefine[e.row][e.column].interval),e.opts.interval||0==e.opts.interval?(i.css("padding",e.opts.interval),i.append(e.root),i):e.root}this.mixin(Layouter);var i=this;this.addItem=function(t){t.row=t.opts.row||0,t.column=t.opts.column||0;var i=$("[data-row-index='"+t.row+"']",this.root).find("[data-column-index='"+t.column+"']");i.length&&i.append(e(t))},this.addItems=function(t){$.each(t,function(t,e){i.addItem(e)})},this.on("mount updated",function(){this.setInterval(".float-left"),this.addItems(t.items)})},"{ }"),riot.tag2("kpitable",'<table class="table table-hover table-bordered kpitable"> <thead class="tableThead"> <tr class="tableTr"></tr> </thead> <tbody class="tableTbody"> </tbody> </table>',"","",function(t){function e(t){$(".tableTr",c.root).empty(),$(".tableTr",c.root).append("yyyymmdd"==t||"yyyy-mm-dd"==t?o:s)}function i(t,e){for(var i=0;e>i;i++)t="&nbsp;"+t;return t}function l(t,e,l,n,o,s,d){var r=$("<tr class='tableTr'></tr>");r.data("data",t),r.data("menuId",t.menuId),r.data("isDimShow",!1),r.data("level",o+1),r.data("type",s),r.data("dimType",e),r.data("dimValue",l),t.valueD||(t.valueD={}),t.valueAD||(t.valueAD={}),r.dblclick({target:r},a),r.append("<td>"+i(t.menuName||n,o)+"</td><td>"+(t.valueD.current||"--")+"</td><td>"+(t.valueD.todayOnYesterday||"--")+"</td><td>"+(t.valueD.monthOnMonth||"--")+"</td><td>"+(t.valueAD.current||"--")+"</td><td>"+(t.valueAD.yearOnYear||"--")+"</td><td><span class='tableAnalysis'>分析<span>·<span class='tableCollect'>收藏</span></td>"),d?d.after(r):$(".tableTbody",c.root).append(r)}function a(t){var e=t.data.target,i=e.data("level"),a=e.data("isDimShow");if(e.data("isDimShow",!a),a)e.nextAll().each(function(t){return"dim"==$(this).data("type")&&$(this).data("level")>i?void $(this).hide():!1});else if(e.data("isload"))e.nextAll().each(function(t){return"dim"!=$(this).data("type")||$(this).data("level")!=i+1?"dim"==$(this).data("type")&&$(this).data("level")>i+1?!0:!1:void $(this).show()});else{var n,o=e.data("menuId"),s=e.data("dimType"),d=e.data("dimValue"),r=e.data("type");if("menu"==r?n=e.data("data"):c.opts.callback.getKpiDimData&&(n=c.opts.callback.getKpiDimData.call(c,o,s,d)),!n)return;e.data("isload",!0);for(var u=(n.valueD||{}).children||{},m=(n.valueAD||{}).children||{},h=u.length||m.length||0,p=h-1;p>=0;p--){var f=u[p]||{},v=m[p]||{},b=f.dimType||v.dimType,g=f.dimValue||v.dimValue,y=f.dimName||v.dimName,k={menuId:o,valueD:f,valueAD:v};if(s==b&&d==g)return;l(k,b,g,y,i,"dim",e)}}}function n(t,e,i,a){if($(".tableTbody",c.root).empty(),l(t,e,i,a,0,"menu"),t.children)for(var n=0;n<t.children.length;n++)l(t.children[n],e,i,a,1,"menu")}this.mixin(BoxCommpent);var o="<th></th><th>日</th><th>较昨日</th><th>较上月同期</th><th>日累计</th><th>较去年同期</th><th>操作</th>",s="<th></th><th>月</th><th>较上月</th><th>较去年同期</th><th>月累计</th><th>较去年同期</th><th>操作</th>",c=this;this.analysis=function(t){c.opts.analysis&&c.opts.analysis.call(this,t.item.value)},this.collect=function(t){c.opts.collect&&c.opts.collect.call(this,t.item.value)},this.showKpi=function(t,i,l,a,o){e(i||"yyyymmdd"),n(t,l,a,o)},this.on("mount",function(){t.callback=t.callback||{},this.showKpi(t.data,t.cycle,t.dimType,t.dimValue,t.dimName)})}),riot.tag2("notice",'<i class=" icon-volume-up icon-2x pull-left icon-muted notice-icon"></i> <span class="notice-title">{opts.title}</span> <label class="notice-text" riot-style="{opts.textStyle}">{opts.text}</label> <a href="{opts.href}" class="notice-moretitle" onclick="{opts.clickMore}" riot-style="{opts.moreTitleStyle}"> {opts.moreTitle} </a>',"",'class="notice"',function(t){this.mixin(BoxCommpent),t.clickMore=function(e){t.listener.click.call(this,t.title,t.text,t.moreTitle)},t.href=t.href||"javascript:void(0);",t.moreTitle=t.moreTitle||"更多"},"{ }"),riot.tag2("panel",'<div class="panel-heading panel-fix-head"> <h3 class="panel-title panel-fix-title">{opts.title}</h3> </div> <div class="panle-body panel-container"></div>',"",'class="panel panel-info panel-fix-width"',function(t){this.mixin(Container),this.on("mount",function(){$(".panle-body",this.root).append($(this.layouter.root))})},"{ }"),riot.tag2("radiobox",'<span class="radioBoxOption" each="{opts.data}"> <i class="icon-circle-blank radioOption" value="{value}" onclick="{click}"></i> <label onclick="{click}">{text}</label> </span>',"",'class="RadioContent"',function(t){this.mixin(BoxCommpent),this.addOptions=function(e){t.data.push(e),this.update()};var e,i=this;this.selected=function(t){$("i",i.root).each(function(i,l){t==l.value?(l.className="radioOption icon-circle",e=l.value):l.className="radioOption icon-circle-blank"}),i.update()},this.click=function(t){i.selected(t.item.value),i.opts.checked&&i.opts.checked.call(this,t.item.value)},this.setValue=function(e){null!=e&&_.contains(_.pluck(t.data,"value"),e)||(e=t.data[0].value),i.selected(e)},this.on("mount",function(){i.setValue(t.defaultValue)})},"{ }"),riot.tag2("selfbutton",'<button type="button" class="btn btn-default navbar-btn buttonshow" onclick="{click}">{opts.title}</button>',"","",function(t){this.click=function(t){}},"{ }"),riot.tag2("selflabel",'<label id="{opts.id}" class="{opts.cls}">{opts.title}</label>',"","",function(t){},"{ }"),riot.tag2("swiminglayouter",'<div data-column-index="{columnIndex}" class="float-left" riot-style="width:{column.width}" each="{column,columnIndex in gridDefine}"> </div> <div class="clear-float"></div>',"","",function(t){function e(e){e.opts.interval||0==e.opts.interval||(e.opts.interval=t.gridDefine[e.column].interval),$(e.root).css("margin",e.opts.interval)}this.mixin(Layouter);var i=this;this.addItem=function(t){t.column=t.opts.column||0;var i=$(this.root).find("[data-column-index='"+t.column+"']");i.length&&(e(t),i.append(t.root))},this.addItems=function(t){$.each(t,function(t,e){i.addItem(e)})},this.on("mount updated",function(){this.setInterval(".float-left"),this.addItems(t.items)})},"{ }"),riot.tag2("toolbar","","",'class="toolbar"',function(t){for(var e=[],i=0;i<t.items.length;i++){var l=$("<label class='mark'>|</label>");l.root=l,e.push(t.items[i]),i<t.items.length-1&&e.push(l)}t.items=e,this.mixin(Container),this.addMark=function(t){for(var e=0;e<t.length;e++)this.layouter.addItem(t[e])}.bind(this),this.on("updated",function(){$(this.layouter.root).appendTo(this.root)})});